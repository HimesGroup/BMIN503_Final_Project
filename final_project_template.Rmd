---
title: "BMIN503/EPID600 Project Template"
author: "Srinath Adusumalli"
output: 
  html_document:
    toc: false 
    depth: 3 
    theme: paper 
    highlight: tango
---
```{r set-options, echo=FALSE, cache=FALSE}
options(width = 400)
```  
***
Use this template to complete your project throughout the course. Your Final Project presentation in class will be based on the contents of this document. Replace the title/name and text below with your own, but keep the headers.

### Overview
In this section, give a brief a description of your project and its goal, what data you are using to complete it, and what three faculty/staff in different fields you have spoken to about your project with a brief summary of what you learned from each person. Include a link to your final project GitHub repository.

Overview: My project aims to examine patterns of consultation of the cardiovascular medicine consult service since the implementation of the PennChart EHR in March 2017.  The purpose of doing this is to inform staffing for this service going forward as we move into HUP East/New Patient Pavilion.

### Introduction 
Introduction:  Cardiovascular disease is the leading cause of mortality and morbidity in the United States and beyond.  As such, it is one of the most common presenting complaints at the Hospital of the University of Pennsylvania, a busy quarternary care academic medical center.  The cardiovascular medicine consult service is one of the most busy (if not the busiest) consult services in the hospital.  Despite this, we have little data on which to base the operations of our service.  This is critical both for current operational needs as well as the future as we think about how to staff the new HUP East/New Patient Pavilion.  My aim is to examine patterns of consultation of the cardiovascular disease consult service since the implementation of an inpatient EHR in March 2017.  As a clinical informatician, I was helped to build the informatics infrastucture for using the EHR to answer these questions.  

The problem of how to staff the cardiovascular medicine consult service is multidisciplinary as our service interacts with all types of providers from all specialities (ranging from MDs, to RNs, to physical therapists, and beyond).  Additionally, I am working with our division senior clinical informatician (different discipline than my primary one) as well as a cardiovascular medicine colleague on this project.  In talking with my background sources, I have discovered data needed to address my question is stored in a complex format in PennChart and Clarity.  Even a seemingly simple task such as determining what sequence of teams cared for a particular patient is not so simple through PennChart.  Despite this, we have now developed a dataset of patients seen by the cardiovascular medicine service as well as their background characteristics and teams from which consults came from which we will use to answer my question.

### Methods
In the first paragraph, describe the data used and general methodological approach. Subsequently, incorporate full R code necessary to retrieve and clean data, and perform analysis. Be sure to include a description of code so that others (including your future self) can understand what you are doing and why. 

The data set used to address the question above is from the Epic Clarity dataset.  Code to acquire the dataset from Clarity included.

library(readxl)
Epic_Consult_Oct18_revised <- read_excel("~/Downloads/Epic_Consult_Oct18_revised.xlsx", 
+     col_types = c("numeric", "numeric", "text", 
+         "text", "date", "date", "text", "text", 
+         "text", "date", "text", "numeric", 
+         "text", "text", "text", "date"))

### Results
Describe your results and include relevant tables, plots, and code/comments used to obtain them. End with a brief conclusion of your findings related to the question you set out to address. You can include references if you'd like, but this is not required.

There are 12,097 unique patients with cardiology consults.
