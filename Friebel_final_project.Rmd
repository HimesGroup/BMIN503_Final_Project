---
title: "Final Project"
author: "Tara Friebel"
date: "December 5, 2019"
output: html_document
---
#Use this template to complete your project throughout the course. Your Final Project presentation in class will be based on the contents of this document. Replace the title/name and text below with your own, but keep the headers.

### Overview: In this section, give a brief a description of your project and its goal, what data you are using to complete it, and what three faculty/staff in different fields you have spoken to about your project with a brief summary of what you learned from each person. Include a link to your final project GitHub repository. For my final project I will be using looking at stage of diagnosis of breast cancer among HIV+ and HIV- patients in a cohort from Botswana.  Women enrolled into the study between 2015 & 2019 (currently still enrolling).  Possible confounding variables could be age, SES and marital status.

### Introduction: In the first paragraph, describe the problem addressed, its significance, and some background to motivate the problem.

#In the second paragraph, explain why your problem is interdisciplinary, what fields can contribute to its understanding, and incorporate background related to what you learned from meeting with faculty/staff. 

#Cancer is a burden around the globe.   Looking at the epidemiology of cancer worldwide, there are 18 million incident cancer cases per year and 9.6 million deaths annually.  85% of these deaths occur in low to middle income countries and Africa is disproportionately affected, as is  most of sub-Saharan Africa.  As motivation for this project, in recognizing the high burden of morbidity and mortality of this disease in Africa and that there is a paucity of research being done focusing on cancer and deaths from cancer in Africa, particularly in Botswana, I will be studying factors associated with advanced disease stage at diagnosis, as stage at diagnosis is a strong predictor of death.  Identifying and reporting on these characteristics will allow us a better understanding of the landscape of cancer in Botswana and will help aid in the direction of resources and help direct future educational and screening interventions.


#This is a multidisciplinary because it pulls in expertise from chronic diseases, infectious diseases, biostatistics, and and epidemiology.There also needsd to be a clinical understanding of breast cancer (Surbhi Grover).  We will use logsitic regression, chi2 tests and other statistical techniques to look at these factors  We will try to implement machine learning techniques to tease apart risk factors, like a decision tree anylsis (Ryan Urbanowicz) and survival analysis (Tim Rebbeck).  I will also be able to look at some geographic factors that could be risk factors due to being barriers in access to care. (Sherri Zie). 

### Methods
#In the first paragraph, describe the data used and general methodological approach. Subsequently, incorporate full R code necessary to retrieve and clean data, and perform analysis. Be sure to include a description of code so that others (including your future self) can understand what you are doing and why. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

options(width = 400)
#use from Botswana Cancer Cohort
library(readxl)
str(final_project_BCC)
head(final_project_BCC)

#select variables to keep
library(tidyverse)
final_project<-final_project_BCC %>%
  select(record_id, enrollment_site, gender, smoker, seeing_natural_healer, height_cm, weight_kg, age, yearofvisit, yearofdeath, stage_high, stage_new, hiv, dead, assume_dead, marital_status)
str(final_project)
table<- final_project %>%
  select(age, gender, assume_dead, smoker, stage_high, yearofvisit, yearofdeath)

#library(knitr)
#library(kableExtra)
#options(knitr.kable.NA='')
#kable(summary(table))

#Descriptive Data: Histogram of age of patients in the dataset
library(ggplot2)
ggplot(data=final_project, aes(x=age)) +
  geom_histogram(binwidth=3) +
  ggtitle(paste("Patinets age distribution")) + 
  theme (
    text=element_text(family="Palatino"),
    plot.title=element_text(hjust=0, face="bold", size=20))

#bar graph of marital status
ggplot(data=final_project, aes(x=marital_status)) +
  geom_bar() +
  ggtitle(paste("Patient's marital status")) + 
  theme (
    text=element_text(family="Palatino"),
    plot.title=element_text(hjust=0, face="bold", size=20))

#bar graph of Year of Diagnosis
#total<-na.exclude(final_project)
ggplot(data=final_project, aes(x=yearofvisit)) +
  geom_bar() +
  ggtitle(paste("Year of Visit")) + 
  theme (
    text=element_text(family="Palatino"),
    plot.title=element_text(hjust=0, face="bold", size=20))

#Historam of age by HIV status
#need fill to be a character not a number
ggplot(data=final_project, aes(x=age, fill=hiv)) +
  geom_histogram(binwidth=3) +
  scale_fill_manual(values=c("gray40", "gray90")) +
  theme_bw() +
  ggtitle(paste("Survival Status of all Patients Across Ages")) + 
  theme (
    text=element_text(family="Palatino"),
    plot.title=element_text(hjust=0, face="bold", size=20))
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
