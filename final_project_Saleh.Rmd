---
title: "COVID-19 Outcomes After mRNA SARS-CoV-2 Vaccination"
author: "Sameh Saleh"
output: 
  prettydoc::html_pretty:
    toc: true
    theme: cayman 
    highlight: default
    number_sections: TRUE
editor_options: 
  chunk_output_type: inline
---
```{r set-options, echo=FALSE, cache=FALSE}
options(width = 400)
```  
***
Use this template to complete your project throughout the course. Your Final Project presentation will be based on the contents of this document. Replace the title/name above and text below with your own, but keep the headers.

# Overview
<!--Give a brief a description of your project and its goal(s), what data you are using to complete it, and what three faculty/staff in different fields you have spoken to about your project with a brief summary of what you learned from each person. Include a link to your final project GitHub repository.-->

Breakthrough COVID-19 infections in fully vaccinated individuals have been reported. The objective of this project is to assess clinical outcomes including 30-day emergency department (ED) visits, hospitalizations, intensive care unit (ICU) stays, and death in partially or fully vaccinated (BNT162b2 or mRNA-1273) patients with subsequent breakthrough SARS-CoV-2 infection and compare them to unvaccinated individuals with SARS-CoV-2 infection.

Please find my Github Repository for the final project [here](https://github.com/ssaleh2/BMIN503_Final_Project).


# Introduction 
<!--Describe the problem addressed, its significance, and some background to motivate the problem.-->

With the continued global spread of the COVID-19 pandemic, the morbidity and mortality attributed to the Severe Acute Respiratory Syndrome Coronavirus 2 (SARS-CoV-2) virus have been devastating. There were nearly 250 million cases and over 5 million deaths (reported case fatality rate of 2.0%) globally as of November 5, 2021 (1). Despite an early start at vaccination, the United States has been disproportionately affected with approximately 18.6% of cases and 15.0% of all deaths worldwide despite only representing 4.3% of the world’s population by the same date. Large-scale deployment of the SARS-CoV-2 vaccines is crucial to curtail further spread of the virus and its more dangerous variants (2). The three vaccines currently approved for administration in the US (Pfizer’s BNT162b2, Moderna’s mRNA-1273, and Johnson and Johnson’s Ad26.COV2.S) have shown high efficacy in preventing severe COVID-19, including hospitalizations, and intensive care unit (ICU) utilization in randomized control trials (3,4). However, trials were limited in their ability to separately compare categories of severe outcomes as these were often combined due to the size of trials and the rarity of outcomes. 

Since then, with the wide scale distribution and administration of vaccines, there have been reports of breakthrough COVID-19 in fully vaccinated individuals (4–7). In May 2021, the CDC reported more than 10,000 cases of breakthrough infections after at least one dose of vaccine. Infections were predominately in females (63%) with 10% of patients requiring hospitalization and 2% dying (5). In June 2021, the CDC redefined definitions of breakthrough infection to include only people who developed COVID-19 ≥14 days after the completion of all recommended doses. This reduced the number of reported breakthrough infections to 4,115 with 608 (15%) deaths related to COVID-19 (7). A recent study from Israel comparing the effectiveness of the BNT162b2 vaccine in individuals 14 to 20 days after vaccination demonstrated an estimated 72% (95% CI, 19 to 100) effectiveness preventing death from COVID-19 (8). Estimating the number of breakthrough infections, severity of outcomes, and the identification of patients at risk for developing breakthrough infections is crucial to the development of preventive strategies. In this study, we determined the rate of clinical outcomes in patients that have been partially or fully vaccinated with BNT162b2 or mRNA-1273 compared to unvaccinated individuals using a US database of individuals evaluated for SARS-CoV-2 infection. Due to the nature of our data source, we were able to explore factors associated with emergency department (ED) visits, hospitalization, ICU use, and death. 

# Methods
<!--Describe the data used and general methodological approach. Subsequently, incorporate full R code necessary to retrieve and clean data, and perform analysis. Be sure to include a description of code so that others (including your future self) can understand what you are doing and why.-->

## Data Source

The Optum® de-identified COVID-19 Electronic Health Record (EHR) dataset was used for analysis. The dataset is a national low-latency data pipeline that leverages EHR data generated by providers across the continuum of care, including acute inpatient stays and outpatient visits. Optum’s COVID-19-specific database captures approximately 6 million patients to date sourced from Optum’s longitudinal EHR repository, which is derived from dozens of healthcare provider organizations in the United States, including more than 700 hospitals and 7,000 clinics. The data are certified as de-identified by an independent statistical expert following HIPAA statistical de-identification rules and managed according to Optum® customer data use agreements. The COVID-19 dataset incorporates a wide swath of raw clinical data, including new, unmapped COVID-specific clinical data points from both inpatient and ambulatory EHRs, practice management systems, and numerous other internal systems. The COVID-19 data capture point of care diagnostics specific to the COVID-19 patient during initial presentation, acute illness, and convalescence, with over 500 mapped labs and bedside observations, including COVID-19 specific testing.

The Optum® COVID-19 data elements include demographics, encounter information, laboratory results, vital signs and measurements, diagnoses, procedures, and information derived from unstructured clinical notes using natural language processing. The data are comprised of multiple tables linked by a common patient identifier (anonymous, randomized string of characters). The COVID-19 EHR database includes patients who have a documented clinical care encounter as early as January 2007 through the most current monthly data release (latest data released through September 16, 2021) with a documented diagnosis of COVID-19 after February 1, 2020, or documented SARS-CoV-2 polymerase chain reaction (PCR) or antigen testing result. All vaccination and outcome data were sourced from EHRs that informed this database. 

## Methodological Approach

An EHR-based retrospective cohort study of adult patients with or without COVID-19 vaccination who were diagnosed with SARS-CoV-2 infection for the first time between December 11th, 2020, and August 16th, 2021 (which was chosen as the cutoff date to allow for a 30-day follow-up period after infection since September 16, 2021 was the final date of the current database update). A case of SARS-CoV-2 infection was defined as on the first instance of a COVID-19-specific ICD-10 diagnosis or the first positive SARS-CoV-2 PCR or antigen test for a patient. The first administration date of a COVID-19 vaccine was defined as the date of the first dose and the second administration date (if one existed) of a COVID-19 vaccine ≥14 days from the first dose for a given patient as the date of the second dose. To avoid including vaccine trial doses (and thereby, possible placebo doses), only vaccinations on or after December 10, 2020 (date of FDA's first Emergency Use Authorization in the United States). Only patient's that received either BNT162b2 (Pfizer) or mRNA-1273 (Moderna) were included in the study. 

Patients were categorized into four groups. Group 1A included individuals who developed SARS-CoV-2 infection after only a single dose of vaccine. Group 1B included individuals who developed SARS-CoV-2 infection after completing their two-dose mRNA immunization series but were diagnosed with SARS-CoV-2 infection <14 days from the second dose. Group 1C includes patients who were diagnosed with SARS-CoV-2 infection ≥14 days after the second dose of vaccination and were considered fully vaccinated per CDC definition7. Group 2 included patients who had SARS-CoV-2 infection but never received any vaccination. 

```{r, eval = TRUE, message = FALSE}
```

I'll load in all the necessary libraries first.
```{r, eval = TRUE, message = FALSE}

library(tidyverse)
library(dplyr)
library(ggplot2)

library(logistf)
library(caTools)
library(stringr)
library(lubridate) #for dates
library(glue) #for string formatting
library(gtsummary) # for nice tables


#For connected to PostgreSQL database
#install.packages('RPostgres')
library(RPostgres)
library(DBI)

```

First, I'll establish a connection to the PostgreSQL database.

```{r, eval = TRUE, message = FALSE}

con<-dbConnect(RPostgres::Postgres(), 
               dbname = 'coviddb',
               host = 'greenplum01.corral.tacc.utexas.edu',
               port = 5432,
               user = 'ssaleh2',
               password = rstudioapi::askForPassword("Database password"))
```

Next, I'll define the key cohorts.

```{r, eval = TRUE, message = FALSE}

sql <- 'SELECT * FROM g823429.sns_proj2_coh2_0916 coh WHERE coh.covid_pos_date > \'2020-12-10\';'
coh2 <- dbGetQuery(con, sql)

# Excluding those that were vaccinated within 3 months of COVID+ date.
coh2 <- coh2 %>% 
  dplyr::filter(is.na(coh2$first_imm_date) | (coh2$first_imm_date > coh2$covid_pos_date + days(90))) %>%
  dplyr::mutate(cohort = '2')

sql = 'SELECT * FROM g823429.sns_proj2_coh1_0916;'
coh1 <- dbGetQuery(con, sql)

#1a are those that have only received first vaccine dose 
coh1a <- coh1 %>%
  dplyr::filter((days_second_imm_to_infxn <= 0) | (is.na(coh1$days_second_imm_to_infxn))) %>%
  dplyr::mutate(cohort = '1a')

#1b are those that have received both vaccinations but were infected within 14 days of second dose
coh1b <- coh1 %>%
  dplyr::filter((0 < days_second_imm_to_infxn) & (days_second_imm_to_infxn <= 14)) %>%
  dplyr::mutate(cohort = '1b')

#1b are those that have received both vaccinations and were infected a fter14 days of second dose (considered fully vaccinated)
coh1c <- coh1 %>%
  dplyr::filter(days_second_imm_to_infxn > 14) %>%
  dplyr::mutate(cohort = '1c')

#cohorts <- c(coh1a, coh1b, coh1c, coh2)

#Bind together all cohorts into one dataframe
all_cohorts <- dplyr::bind_rows(coh1a, coh1b, coh1c, coh2)
  
```
# Results
<!--Describe your results and include relevant tables, plots, and code/comments used to obtain them. End with a brief conclusion of your findings related to the question you set out to address. You can include references if you'd like, but this is not required.-->

## Summary Statistics

```{r Patient Characteristics, eval = TRUE, message = FALSE}
#Get counts of cohort
table(all_cohorts$cohort)

#Get mean days from first vaccinations for coh 1a, 1b, and 1c
all_cohorts %>%
  dplyr::filter(cohort %in% c('1a','1b', '1c')) %>%
  dplyr::group_by(cohort) %>%
  dplyr::summarise(mean_days_since_1st_vacc = mean(days_first_imm_to_infxn, na.rm = TRUE))
```

```{r, eval = TRUE, message = FALSE}
#Query for getting dems
dem_query <- "SELECT coh.ptid, p.birth_yr, p.gender, p.race, p.ethnicity, p.region 
FROM g823429.sns_proj2_cohall_0916 coh 
LEFT OUTER JOIN opt_20210916.pt p
on coh.ptid = p.ptid
where coh.covid_pos_date > \'2020-12-10\'"

dems <- dbGetQuery(con, dem_query)

#Join with all cohorts and get age
dems <- all_cohorts %>%
  select(c(ptid,cohort,covid_pos_date)) %>%
  dplyr::inner_join(dems, by='ptid') %>%
  dplyr::mutate(age = ifelse(birth_yr == '1932 and Earlier', 89, 2021 - as.integer(birth_yr))) %>%
  dplyr::mutate(month_infxn = month(covid_pos_date,label = TRUE))

dems %>% 
  select(cohort, age, gender, race, ethnicity, region, month_infxn) %>%
  tbl_summary(by = cohort, 
              statistic = list(all_continuous() ~ "{mean} ({sd})",
              all_categorical() ~ "{n} / {N} ({p}%)"),
              digits = all_continuous() ~ 2,
              label = cohort ~ 'Cohort',
              missing_text = "(Missing)") %>%
  add_p(list(all_continuous() ~ "kruskal.test", all_categorical() ~ "chisq.test")) %>%
  modify_header(label ~ "**Variable**") %>%
  modify_caption("**Table 1. Patient Characteristics**") %>%
  bold_labels()
```

```{r, eval = TRUE, message = FALSE}
ins_query = "SELECT coh.ptid, i.ins_type
FROM g823429.sns_proj2_cohall_0916 coh
LEFT OUTER JOIN opt_20210916.ins i
ON coh.ptid = i.ptid
WHERE i.insurance_date >= coh.covid_pos_date - INTERVAL \'180 days\' AND
    i.insurance_date <= coh.covid_pos_date + INTERVAL \'30 days\' AND
    coh.covid_pos_date > '2020-12-10'
"

ins <- dbGetQuery(con, ins_query) %>%
  distinct() %>% #remove duplicates
  filter(ins_type != 'Unknown') #remove unknown

#Join with all cohorts
ins <- all_cohorts %>%
  select(c('ptid','cohort')) %>%
  dplyr::left_join(ins, by='ptid') %>%
  mutate(flag = 1) %>%
  pivot_wider(names_from = ins_type, values_from = flag, values_fill = 0) %>%
  rename(Unknown = 'NA')

ins %>%
  select(-ptid) %>%
  tbl_summary(by = cohort, 
              statistic = list(all_continuous() ~ "{mean} ({sd})",
              all_categorical() ~ "{n} / {N} ({p}%)"),
              digits = all_continuous() ~ 2,
              label = cohort ~ 'Cohort',
              missing_text = "(Missing)") %>%
  add_p(list(all_continuous() ~ "kruskal.test", all_categorical() ~ "chisq.test")) %>%
  modify_header(label ~ "**Variable**") %>%
  modify_caption("**Table 2. Patient Insurance**") %>%
  bold_labels()

```

```{r eval=TRUE, message=FALSE}
bmi_query = "SELECT iq.ptid, iq.bmi_date, o.obs_result  
FROM (select coh.ptid, min(o.obs_date) as bmi_date
		from g823429.sns_proj2_cohall_0916 coh
		JOIN opt_20210916.obs o
		ON coh.ptid = o.ptid
		WHERE 
		o.obs_type = \'BMI\' AND
		(o.obs_date - coh.covid_pos_date) >= -180 AND --looking at past 180 days
		(o.obs_date - coh.covid_pos_date) <= 0
	group by coh.ptid) as iq
join opt_20210916.obs o on o.ptid = iq.ptid and o.obs_date = iq.bmi_date
	where o.obs_type = \'BMI\'"

bmi <- dbGetQuery(con, bmi_query) %>%
  dplyr::group_by(ptid) %>%
  dplyr::arrange(bmi_date) %>%
  dplyr::filter(row_number() == n()) #get most recent value

cci_query = "SELECT coh.ptid, cci_score
FROM g823429.sns_proj2_cohall_0916 coh
left outer join g823429.sns_charlson_scores_0916 score on score.ptid=coh.ptid"

comorbidity_scores <- dbGetQuery(con, cci_query) %>%
  dplyr::distinct()

#Total CCI scores
comorbidity_scores <- all_cohorts %>%
  select(ptid, cohort) %>%
  dplyr::left_join(comorbidity_scores, by = 'ptid') %>%
  dplyr::left_join(bmi, by = 'ptid') %>%
  dplyr::mutate(cci_score = replace_na(cci_score, 0))
  
comorbidity_scores$cci_score <- replace_na(comorbidity_scores$cci_score, 0)

#Particular comorbidities
cci_query_2 = "SELECT coh.ptid, dis.comorbidities
FROM g823429.sns_proj2_cohall_0916 coh
LEFT OUTER JOIN g823429.sns_charlson_icd_codes_0916 dis
ON coh.ptid = dis.ptid" 

comorbidites <- dbGetQuery(con, cci_query_2) %>%
  dplyr::distinct() #remove duplicates

#Convert from long to wide
comorbidites <- all_cohorts %>%
  select(ptid, cohort) %>%
  dplyr::left_join(comorbidites, by='ptid') %>%
  mutate(flag = 1) %>%
  pivot_wider(names_from = comorbidities, values_from = flag, values_fill = 0) %>%
  rename('No Known Comorbidities' = 'NA')

# comorbidites %>%
#   select(cohort, comorbidities, obs_result) %>%
#   mutate(obs_result = as.double(obs_result)) %>%
#   tbl_summary(by = cohort,
#               statistic = list(all_continuous() ~ "{mean} ({sd})",
#               all_categorical() ~ "{n} / {N} ({p}%)"),
#               digits = all_continuous() ~ 2,
#               label = cohort ~ 'Cohort',
#               missing_text = "(Missing)") %>%
#   add_p(list(all_continuous() ~ "kruskal.test", all_categorical() ~ "chisq.test")) %>%
#   modify_header(label ~ "**Variable**") %>%
#   modify_caption("**Table 3. Patient Comorbidities**") %>%
#   bold_labels()

comorbidites %>%
  select(-ptid) %>%
  # select(cohort, comorbidities) %>%
  tbl_summary(by = cohort,
              statistic = list(all_continuous() ~ "{mean} ({sd})",
              all_categorical() ~ "{n} / {N} ({p}%)"),
              digits = all_continuous() ~ 2,
              label = cohort ~ 'Cohort',
              missing_text = "(Missing)") %>%
  add_p(list(all_continuous() ~ "kruskal.test", all_categorical() ~ "chisq.test")) %>%
  modify_header(label ~ "**Variable**") %>%
  modify_caption("**Table 3. Patient Comorbidities**") %>%
  bold_labels()

```

```{r, eval = TRUE, message = FALSE}
emer_query = "SELECT coh.ptid, coh.covid_pos_date, e.interaction_date, 
e.interaction_date - coh.covid_pos_date AS timeelapsed
FROM g823429.sns_proj2_cohall_0916 coh
LEFT OUTER JOIN opt_20210916.enc e
ON coh.ptid = e.ptid
WHERE 
	e.interaction_date >= coh.covid_pos_date AND
	e.interaction_date <= coh.covid_pos_date + INTERVAL \'30 days\' AND
	e.interaction_type = 'Emergency patient' AND
    coh.covid_pos_date > \'2020-12-10\'"

emer <- dbGetQuery(con, emer_query)

#Join with all cohorts
emer <- all_cohorts %>%
  select(c(ptid,cohort,covid_pos_date)) %>%
  dplyr::inner_join(emer, by='ptid') %>%
  dplyr::mutate(emer_flag = 1) %>%
  dplyr::group_by(ptid) %>%
  dplyr::summarise(ED_count = n(),
                   cohort = last(cohort),
                   emer_flag = first(emer_flag),
                   time_to_ED = median(timeelapsed, na.rm = TRUE))

hosp_query = "SELECT coh.ptid, coh.covid_pos_date, v.visit_start_date, v.visit_end_date, 
v.visit_end_date - v.visit_start_date AS LOS, v.visit_start_date - coh.covid_pos_date AS timeelapsed
FROM g823429.sns_proj2_cohall_0916 coh
LEFT OUTER JOIN opt_20210916.vis v
ON coh.ptid = v.ptid
WHERE 
	v.visit_start_date >= coh.covid_pos_date AND
	v.visit_start_date <= coh.covid_pos_date + INTERVAL \'30 days\' AND
	(v.visit_type = 'Inpatient') AND-- OR v.visit_type = 'Observation patient') AND
    coh.covid_pos_date > \'2020-12-10\'"

hosp <- dbGetQuery(con, hosp_query)

#Join with all cohorts
hosp <- all_cohorts %>%
  select(c(ptid,cohort,covid_pos_date)) %>%
  dplyr::inner_join(hosp, by='ptid') %>%
  mutate(hosp_flag = 1) %>%
  dplyr::group_by(ptid) %>%
  dplyr::summarise(hosp_count = n(),
                   cohort = first(cohort),
                   hosp_flag = last(hosp_flag),
                   time_to_hosp = median(timeelapsed, na.rm = TRUE),
                   los = median(los, na.rm = TRUE))

icu_query = "SELECT coh.ptid, coh.covid_pos_date, c.carearea_date, 
c.carearea_date - coh.covid_pos_date AS timeelapsed
FROM g823429.sns_proj2_cohall_0916 coh
LEFT OUTER JOIN opt_20210916.carearea c
ON coh.ptid = c.ptid
WHERE 
	c.carearea_date >= coh.covid_pos_date AND
	c.carearea_date <= coh.covid_pos_date + INTERVAL \'30 days\' AND
	c.carearea = \'CRITICAL CARE UNIT (CCU) / INTENSIVE CARE UNIT (ICU)\' AND
    coh.covid_pos_date > \'2020-12-10\'"

icu <- dbGetQuery(con, icu_query)

#Join with all cohorts
icu <- all_cohorts %>%
  select(c(ptid,cohort,covid_pos_date)) %>%
  dplyr::inner_join(icu, by='ptid') %>%
  mutate(icu_flag = 1) %>%
  dplyr::group_by(ptid) %>%
  dplyr::summarise(icu_count = n(),
                   cohort = last(cohort),
                   icu_flag = first(icu_flag),
                   time_to_icu = median(timeelapsed, na.rm = TRUE))

death_query="SELECT 
    CASE
		WHEN (deathInfo.time_to_death > 15 AND deathInfo.time_to_death <= 30) THEN 'After'
		WHEN (deathInfo.time_to_death >= -31 AND deathInfo.time_to_death <= 15) THEN 'Before' -- -31 b/c rounding with death date (may still be same month)
		ELSE NULL
	END AS est_time_elapsed, *
	FROM (
		SELECT coh.ptid AS ptid, coh.covid_pos_date,
			TO_DATE(p.date_of_death, \'YYYYMM\') AS death_date, 
			(TO_DATE(p.date_of_death, \'YYYYMM\') - coh.covid_pos_date ) AS time_To_death
			--*
		FROM g823429.sns_proj2_cohall_0916 coh
		JOIN opt_20210916.pt p
		ON coh.ptid = p.ptid
		WHERE
			p.date_of_death IS NOT NULL AND
            coh.covid_pos_date > \'2020-12-10\'
	) AS deathInfo
--) AS normalizedDeathInfo
--WHERE
	--normalizedDeathInfo.est_time_elapsed = 'After'"

death <- dbGetQuery(con, death_query)

#Join with all cohorts
death <- all_cohorts %>%
  select(c(ptid,cohort,covid_pos_date)) %>%
  dplyr::inner_join(death, by='ptid') %>%
  dplyr::filter(!is.na(est_time_elapsed)) %>%
  mutate(death_flag = 1)%>%
  dplyr::group_by(ptid) %>%
  dplyr::summarise(death_count = n(),
                   cohort = last(cohort),
                   death_flag = first(death_flag))

outcomes <- all_cohorts %>%
  select(c(ptid, covid_pos_date, cohort, days_first_imm_to_infxn, days_second_imm_to_infxn)) %>%
  dplyr::left_join(death %>% select(c(ptid, death_flag)), by='ptid') %>%
  dplyr::left_join(icu %>% select(c(ptid, time_to_icu, icu_flag)), by='ptid') %>%
  dplyr::left_join(hosp %>% select(c(ptid, time_to_hosp, los, hosp_flag)), by='ptid') %>%
  dplyr::left_join(emer %>% select(c(ptid, time_to_ED, emer_flag)), by='ptid') %>%
  dplyr::mutate(death_flag = replace_na(death_flag, 0)) %>%
  dplyr::mutate(icu_flag = replace_na(icu_flag, 0)) %>%
  dplyr::mutate(hosp_flag = replace_na(hosp_flag, 0)) %>%
  dplyr::mutate(emer_flag = replace_na(emer_flag, 0))
  
outcomes %>%
  select(-c(ptid, covid_pos_date)) %>%
  tbl_summary(by = cohort,
              statistic = list(all_continuous() ~ "{mean} ({sd})",
              all_categorical() ~ "{n} / {N} ({p}%)"),
              digits = all_continuous() ~ 2,
              label = cohort ~ 'Cohort',
              missing = 'no') %>%
  add_p(list(all_continuous() ~ "kruskal.test", all_categorical() ~ "chisq.test")) %>%
  modify_header(label ~ "**Variable**") %>%
  modify_caption("**Table 4. Patient Outcomes**") %>%
  bold_labels() 

```

```{r, eval = TRUE, message = FALSE}
death_model <- death %>%
  dplyr::select(c(ptid, death_flag)) %>%
  dplyr::left_join(dems %>% select(c('ptid', 'age', 'gender', 'region', 'cohort')), by = 'ptid')

death_model <- death_model %>% select(-ptid) %>%
  mutate(gender = factor(gender, levels = c(1, 2, 3), labels = c("Male", "Female", "Unknown"))) %>%
  mutate(region = factor(region, levels = c(1, 2, 3, 4, 5), 
                         labels = c("Midwest", "South", "Northeast", "West", "Other/Unknown"))) %>%
  mutate(cohort = factor(cohort, levels=c(1, 2, 3, 4), labels = c('1a', '1b', '1c', '2')))

table(death_model$gender)
  
lf <- logistf(formula = death_flag ~ ., data = death_model)
```

```{r, eval = TRUE, message = FALSE}
# Run logistic model for death
#lf <- logistf(formula = death ~ age + gender + bmi + cci_score + is_Northeast + is_Other_Region + is_South + is_West + is_1a + is_1b + is_1c + is_African_American + is_Asian + is_Hispanic + is_Other + is_Medicare_Medicaid + is_Other_Ins, data=model_data)

#summary(lf)

#death_or <- exp(cbind(Odds=coef(lf), confint(lf)))

```

# Conclusions

Limitations: study is looking at outcomes among vaccinated and unvaccinated individuals who tested positive for COVID-19, which may be very different from outcomes among all vaccinated and unvaccinated individuals infected with COVID-19.


# References
1.  Dong E, Du H, Gardner L. An interactive web-based dashboard to track COVID-19 in real time. The Lancet Infectious Diseases. 2020;20(5):533-534. doi:10.1016/S1473-3099(20)30120-1
2. 	Sridhar D, Gurdasani D. Herd immunity by infection is not an option. Science. 2021;371(6526):230-231. doi:10.1126/science.abf7921
3. 	Sadoff J, Gray G, Vandebosch A, et al. Safety and Efficacy of Single-Dose Ad26.COV2.S Vaccine against Covid-19. N Engl J Med. 2021;384(23):2187-2201. doi:10.1056/NEJMoa2101544
4. 	Tenforde MW, Olson SM, Self WH, et al. Effectiveness of Pfizer-BioNTech and Moderna Vaccines Against COVID-19 Among Hospitalized Adults Aged ≥65 Years - United States, January-March 2021. MMWR Morb Mortal Wkly Rep. 2021;70(18):674-679. doi:10.15585/mmwr.mm7018e1
5. 	CDC COVID-19 Vaccine Breakthrough Case Investigations Team, CDC COVID-19 Vaccine Breakthrough Case Investigations Team, Birhane M, et al. COVID-19 Vaccine Breakthrough Infections Reported to CDC — United States, January 1–April 30, 2021. MMWR Morb Mortal Wkly Rep. 2021;70(21):792-793. doi:10.15585/mmwr.mm7021e3
6. 	Keehner J, Horton LE, Pfeffer MA, et al. SARS-CoV-2 Infection after Vaccination in Health Care Workers in California. N Engl J Med. 2021;384(18):1774-1775. doi:10.1056/NEJMc2101927
7. 	COVID-19 Vaccine Breakthrough Case Investigation and Reporting. Centers for Disease Control and Prevention Accessed June 28, 2021. https://www.cdc.gov/vaccines/covid-19/health-departments/breakthrough-cases.html.
8. 	Dagan N, Barda N, Kepten E, et al. BNT162b2 mRNA Covid-19 Vaccine in a Nationwide Mass Vaccination Setting. N Engl J Med. 2021;384(15):1412-1423. doi:10.1056/NEJMoa2101765
