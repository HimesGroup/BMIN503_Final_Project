<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Roberts">

<title>Admin Intensity</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="pbj_based_staffing_compare_files/libs/clipboard/clipboard.min.js"></script>
<script src="pbj_based_staffing_compare_files/libs/quarto-html/quarto.js"></script>
<script src="pbj_based_staffing_compare_files/libs/quarto-html/popper.min.js"></script>
<script src="pbj_based_staffing_compare_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="pbj_based_staffing_compare_files/libs/quarto-html/anchor.min.js"></script>
<link href="pbj_based_staffing_compare_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="pbj_based_staffing_compare_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="pbj_based_staffing_compare_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="pbj_based_staffing_compare_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="pbj_based_staffing_compare_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Admin Intensity</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>David Roberts </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<section id="purpose" class="level2">
<h2 class="anchored" data-anchor-id="purpose">Purpose</h2>
<ul>
<li>Compare daily pbj journal derived staffing ratios to quarterly reports.</li>
<li>Construct a measure which attempts to measure diversion of resources to admin duties.
<ul>
<li>How can I measure this?</li>
</ul></li>
<li>Test correlation between case-mix and diversion of resources to admin duties.</li>
<li>105319 - Sun Terrace, admin spike in 2019</li>
</ul>
</section>
<section id="imports" class="level2">
<h2 class="anchored" data-anchor-id="imports">Imports</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at C:/Users/david/code/BMIN503_Final_Project</code></pre>
</div>
</div>
</section>
<section id="load-data" class="level2">
<h2 class="anchored" data-anchor-id="load-data">Load Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"interim"</span>, <span class="st">"snf_provider_info.Rda"</span>))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>pbj <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"interim"</span>, <span class="st">"pbj_facility_level.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="calculate-yoy-increases-in-staffing-rating" class="level2">
<h2 class="anchored" data-anchor-id="calculate-yoy-increases-in-staffing-rating">Calculate YOY increases in staffing rating</h2>
<p>Landed in 4-5 range is a case</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>staffing_next_yr <span class="ot">&lt;-</span> <span class="fu">select</span>(snf_level_data, <span class="fu">c</span>(<span class="st">"federal_provider_number"</span>, <span class="st">"staffing_rating"</span>, <span class="st">"collection_yr"</span>, <span class="st">"adjusted_rn_staffing_hours_per_resident_per_day"</span>, <span class="st">"adjusted_total_nurse_staffing_hours_per_resident_per_day"</span>, <span class="st">"ownership_type"</span>, <span class="st">"average_number_of_residents_per_day"</span>, <span class="st">"provider_changed_ownership_in_last_12_months"</span>, <span class="st">"continuing_care_retirement_community"</span>,<span class="st">"average_number_of_residents_per_day"</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="st">"overall_rating"</span>, <span class="st">"health_inspection_rating"</span>, <span class="st">"qm_rating"</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>staffing_next_yr<span class="sc">$</span>collection_yr <span class="ot">=</span> staffing_next_yr<span class="sc">$</span>collection_yr <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>snf_level_data <span class="ot">&lt;-</span> snf_level_data <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(staffing_next_yr, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"federal_provider_number"</span>, <span class="st">"collection_yr"</span>))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>staffing_yoy <span class="ot">&lt;-</span> <span class="fu">select</span>(snf_level_data,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"federal_provider_number"</span>, <span class="st">"staffing_rating.x"</span>, <span class="st">"collection_yr"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>       <span class="st">"staffing_rating.y"</span>,<span class="st">"adjusted_rn_staffing_hours_per_resident_per_day.x"</span>, <span class="st">"adjusted_total_nurse_staffing_hours_per_resident_per_day.x"</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"adjusted_rn_staffing_hours_per_resident_per_day.y"</span>, <span class="st">"adjusted_total_nurse_staffing_hours_per_resident_per_day.y"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"ownership_type.x"</span>, <span class="st">"ownership_type.y"</span>, <span class="st">"average_number_of_residents_per_day.x"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"average_number_of_residents_per_day.y"</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"provider_changed_ownership_in_last_12_months.y"</span>, <span class="st">"continuing_care_retirement_community.y"</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"average_number_of_residents_per_day.x"</span>, <span class="st">"average_number_of_residents_per_day.y"</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"overall_rating.x"</span>, <span class="st">"overall_rating.y"</span>, </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"health_inspection_rating.x"</span>, <span class="st">"health_inspection_rating.y"</span>, </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"qm_rating.x"</span>, <span class="st">"qm_rating.y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(staffing_rating.y) <span class="sc">==</span> <span class="cn">FALSE</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(staffing_rating.x) <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">overall_star_change=</span>overall_rating.y <span class="sc">-</span> overall_rating.x) <span class="sc">%&gt;%</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">inspect_star_change=</span>health_inspection_rating.y <span class="sc">-</span> health_inspection_rating.x) <span class="sc">%&gt;%</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">qm_star_change=</span>qm_rating.y <span class="sc">-</span> qm_rating.x) <span class="sc">%&gt;%</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">staff_star_change=</span>staffing_rating.y <span class="sc">-</span> staffing_rating.x) <span class="sc">%&gt;%</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rn_hr_prpd_change=</span>adjusted_rn_staffing_hours_per_resident_per_day.y <span class="sc">-</span> adjusted_rn_staffing_hours_per_resident_per_day.x) <span class="sc">%&gt;%</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_hr_prpd_change=</span>adjusted_total_nurse_staffing_hours_per_resident_per_day.y <span class="sc">-</span> adjusted_total_nurse_staffing_hours_per_resident_per_day.x) <span class="sc">%&gt;%</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">status=</span><span class="fu">as.factor</span>(</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>           <span class="fu">ifelse</span>(staff_star_change <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> staffing_rating.x <span class="sc">&lt;</span> <span class="dv">4</span> <span class="sc">&amp;</span> staffing_rating.y <span class="sc">&gt;=</span><span class="dv">4</span>,</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Case"</span>, <span class="st">"Control"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">status_v2=</span><span class="fu">as.factor</span>(</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>           <span class="fu">ifelse</span>(staff_star_change <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> staffing_rating.x <span class="sc">&lt;</span> <span class="dv">4</span> <span class="sc">&amp;</span> staffing_rating.y <span class="sc">&gt;=</span><span class="dv">4</span>,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Case"</span>, <span class="st">"Control"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">status_v3=</span><span class="fu">as.factor</span>(</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>           <span class="fu">ifelse</span>((staff_star_change <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> staffing_rating.x <span class="sc">&lt;</span> <span class="dv">4</span> <span class="sc">&amp;</span> staffing_rating.y <span class="sc">&gt;=</span><span class="dv">4</span>)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>                  <span class="sc">&amp;</span> (qm_star_change <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">|</span> inspect_star_change <span class="sc">&lt;</span> <span class="dv">0</span>),</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Case"</span>, <span class="st">"Control"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Assess missingness… To create a clean analysis, probably worth removing observations where an staffing observation is not available. This drops the staffing rating to 1…</p>
<p>Among the cases, it only occurs with +3 and +4 stars…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>staffing_yoy <span class="sc">%&gt;%</span> <span class="fu">count</span>(status, staff_star_change)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 3
   status  staff_star_change     n
   &lt;fct&gt;               &lt;dbl&gt; &lt;int&gt;
 1 Case                    1  2960
 2 Case                    2   812
 3 Case                    3   643
 4 Case                    4   347
 5 Control                -4   438
 6 Control                -3   878
 7 Control                -2  2375
 8 Control                -1 12067
 9 Control                 0 29934
10 Control                 1  7237
11 Control                 2   961</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>staffing_yoy <span class="sc">%&gt;%</span> <span class="fu">count</span>(status_v2, staff_star_change)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   status_v2 staff_star_change     n
   &lt;fct&gt;                 &lt;dbl&gt; &lt;int&gt;
 1 Case                      2   812
 2 Case                      3   643
 3 Case                      4   347
 4 Control                  -4   438
 5 Control                  -3   878
 6 Control                  -2  2375
 7 Control                  -1 12067
 8 Control                   0 29934
 9 Control                   1 10197
10 Control                   2   961</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>staffing_yoy <span class="sc">%&gt;%</span> <span class="fu">count</span>(status_v3, staff_star_change)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 3
   status_v3 staff_star_change     n
   &lt;fct&gt;                 &lt;dbl&gt; &lt;int&gt;
 1 Case                      1  1221
 2 Case                      2   362
 3 Case                      3   297
 4 Case                      4   133
 5 Control                  -4   438
 6 Control                  -3   878
 7 Control                  -2  2375
 8 Control                  -1 12067
 9 Control                   0 29934
10 Control                   1  8973
11 Control                   2  1411
12 Control                   3   344
13 Control                   4   206
14 &lt;NA&gt;                      1     3
15 &lt;NA&gt;                      3     2
16 &lt;NA&gt;                      4     8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(staffing_yoy, <span class="fu">is.na</span>(rn_hr_prpd_change)) <span class="sc">%&gt;%</span> <span class="fu">count</span>(status, staff_star_change)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  status  staff_star_change     n
  &lt;fct&gt;               &lt;dbl&gt; &lt;int&gt;
1 Case                    3   273
2 Case                    4   188
3 Control                -4   205
4 Control                -3   329
5 Control                -2   320
6 Control                -1   258
7 Control                 0   978
8 Control                 1   304
9 Control                 2   324</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>staffing_yoy.complete <span class="ot">&lt;-</span> <span class="fu">filter</span>(staffing_yoy, <span class="sc">!</span>(<span class="fu">is.na</span>(rn_hr_prpd_change) <span class="sc">|</span> <span class="fu">is.na</span>(total_hr_prpd_change)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dropped ~3k observations</p>
<p>Pull corresponding PBJ (Payroll Based Journal), also Peanut Butter and Jelly</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pbj <span class="ot">&lt;-</span> pbj <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(<span class="fu">substr</span>(CY_Qtr, <span class="dv">1</span>, <span class="dv">4</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">quarter =</span> <span class="fu">as.integer</span>(<span class="fu">substr</span>(CY_Qtr, <span class="dv">6</span>, <span class="dv">6</span>)))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>pbj.q4 <span class="ot">&lt;-</span> pbj <span class="sc">%&gt;%</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(quarter<span class="sc">==</span><span class="dv">4</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>pbj.q4.merged <span class="ot">&lt;-</span> pbj.q4 <span class="sc">%&gt;%</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> year <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(pbj.q4, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"PROVNUM"</span>, <span class="st">"year"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(quarter.y)) <span class="sc">%&gt;%</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">admin_change_pct_pt =</span> (AdminIntensity.y <span class="sc">-</span> AdminIntensity.x) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>55939 obs in pbj.q4.merged 55473 obs in staffing_yoy 54807 obs in final dataframe</p>
<p>Assess reliability of data calculated from pbj detail</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>staffing_yoy.complete<span class="sc">$</span>year <span class="ot">=</span> staffing_yoy.complete<span class="sc">$</span>collection_yr <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>pbj.q4.merged <span class="ot">&lt;-</span> <span class="fu">rename</span>(pbj.q4.merged, <span class="at">federal_provider_number =</span> PROVNUM )</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>final.df <span class="ot">&lt;-</span> staffing_yoy.complete <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(pbj.q4.merged, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"federal_provider_number"</span>))</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>final.df <span class="ot">&lt;-</span> <span class="fu">subset</span>(final.df, <span class="at">select=</span><span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  collection_yr,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  CY_Qtr.x,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  CY_Qtr.y,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  quarter.x,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  quarter.y</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>final.df<span class="sc">$</span>year_factor <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(final.df<span class="sc">$</span>year)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>final.df<span class="sc">$</span>status <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(final.df<span class="sc">$</span>status)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>final.df <span class="ot">&lt;-</span> final.df <span class="sc">%&gt;%</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">for_profit =</span> <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(ownership_type.y, <span class="st">'For profit'</span>), <span class="cn">TRUE</span>, <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Visualize</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(final.df, <span class="fu">aes</span>(<span class="at">x=</span>year_factor, <span class="at">y=</span>admin_change_pct_pt)) <span class="sc">+</span> <span class="fu">geom_violin</span>()</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="pbj_based_staffing_compare_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(final.df, <span class="fu">aes</span>(<span class="at">x=</span>admin_change_pct_pt, <span class="at">y=</span>staff_star_change, <span class="at">color=</span>status)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="pbj_based_staffing_compare_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(final.df, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(staffing_rating.x), <span class="at">y=</span>admin_change_pct_pt)) <span class="sc">+</span> <span class="fu">geom_violin</span>()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="pbj_based_staffing_compare_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(final.df, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(staffing_rating.x, staff_star_change, status, year_factor),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(admin_change_pct_pt)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> <span class="fu">tbl_summary</span>(<span class="at">by=</span>year_factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="fjtrpdrlmm" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#fjtrpdrlmm) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#fjtrpdrlmm) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#fjtrpdrlmm) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#fjtrpdrlmm) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#fjtrpdrlmm) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#fjtrpdrlmm) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#fjtrpdrlmm) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#fjtrpdrlmm) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#fjtrpdrlmm) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#fjtrpdrlmm) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#fjtrpdrlmm) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#fjtrpdrlmm) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#fjtrpdrlmm) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#fjtrpdrlmm) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#fjtrpdrlmm) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#fjtrpdrlmm) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#fjtrpdrlmm) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#fjtrpdrlmm) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#fjtrpdrlmm) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#fjtrpdrlmm) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#fjtrpdrlmm) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#fjtrpdrlmm) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#fjtrpdrlmm) .gt_left {
  text-align: left;
}

:where(#fjtrpdrlmm) .gt_center {
  text-align: center;
}

:where(#fjtrpdrlmm) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#fjtrpdrlmm) .gt_font_normal {
  font-weight: normal;
}

:where(#fjtrpdrlmm) .gt_font_bold {
  font-weight: bold;
}

:where(#fjtrpdrlmm) .gt_font_italic {
  font-style: italic;
}

:where(#fjtrpdrlmm) .gt_super {
  font-size: 65%;
}

:where(#fjtrpdrlmm) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#fjtrpdrlmm) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#fjtrpdrlmm) .gt_indent_1 {
  text-indent: 5px;
}

:where(#fjtrpdrlmm) .gt_indent_2 {
  text-indent: 10px;
}

:where(#fjtrpdrlmm) .gt_indent_3 {
  text-indent: 15px;
}

:where(#fjtrpdrlmm) .gt_indent_4 {
  text-indent: 20px;
}

:where(#fjtrpdrlmm) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2018</strong>, N = 13,426<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2019</strong>, N = 14,156<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2020</strong>, N = 14,114<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2021</strong>, N = 13,111<sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">staffing_rating.x</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1</td>
<td class="gt_row gt_center">1,555 (12%)</td>
<td class="gt_row gt_center">2,081 (15%)</td>
<td class="gt_row gt_center">1,621 (11%)</td>
<td class="gt_row gt_center">1,372 (10%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2</td>
<td class="gt_row gt_center">1,926 (14%)</td>
<td class="gt_row gt_center">3,458 (24%)</td>
<td class="gt_row gt_center">3,653 (26%)</td>
<td class="gt_row gt_center">2,534 (19%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3</td>
<td class="gt_row gt_center">4,057 (30%)</td>
<td class="gt_row gt_center">4,032 (28%)</td>
<td class="gt_row gt_center">4,074 (29%)</td>
<td class="gt_row gt_center">3,457 (26%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4</td>
<td class="gt_row gt_center">4,332 (32%)</td>
<td class="gt_row gt_center">3,067 (22%)</td>
<td class="gt_row gt_center">3,146 (22%)</td>
<td class="gt_row gt_center">3,340 (25%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5</td>
<td class="gt_row gt_center">1,556 (12%)</td>
<td class="gt_row gt_center">1,518 (11%)</td>
<td class="gt_row gt_center">1,620 (11%)</td>
<td class="gt_row gt_center">2,408 (18%)</td></tr>
    <tr><td class="gt_row gt_left">staff_star_change</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;-4</td>
<td class="gt_row gt_center">57 (0.4%)</td>
<td class="gt_row gt_center">27 (0.2%)</td>
<td class="gt_row gt_center">42 (0.3%)</td>
<td class="gt_row gt_center">107 (0.8%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;-3</td>
<td class="gt_row gt_center">196 (1.5%)</td>
<td class="gt_row gt_center">70 (0.5%)</td>
<td class="gt_row gt_center">95 (0.7%)</td>
<td class="gt_row gt_center">188 (1.4%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;-2</td>
<td class="gt_row gt_center">729 (5.4%)</td>
<td class="gt_row gt_center">204 (1.4%)</td>
<td class="gt_row gt_center">255 (1.8%)</td>
<td class="gt_row gt_center">840 (6.4%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;-1</td>
<td class="gt_row gt_center">3,732 (28%)</td>
<td class="gt_row gt_center">2,233 (16%)</td>
<td class="gt_row gt_center">1,545 (11%)</td>
<td class="gt_row gt_center">4,103 (31%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;0</td>
<td class="gt_row gt_center">6,743 (50%)</td>
<td class="gt_row gt_center">8,441 (60%)</td>
<td class="gt_row gt_center">7,133 (51%)</td>
<td class="gt_row gt_center">6,296 (48%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1</td>
<td class="gt_row gt_center">1,741 (13%)</td>
<td class="gt_row gt_center">2,646 (19%)</td>
<td class="gt_row gt_center">4,182 (30%)</td>
<td class="gt_row gt_center">1,236 (9.4%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2</td>
<td class="gt_row gt_center">191 (1.4%)</td>
<td class="gt_row gt_center">341 (2.4%)</td>
<td class="gt_row gt_center">700 (5.0%)</td>
<td class="gt_row gt_center">208 (1.6%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3</td>
<td class="gt_row gt_center">33 (0.2%)</td>
<td class="gt_row gt_center">134 (0.9%)</td>
<td class="gt_row gt_center">112 (0.8%)</td>
<td class="gt_row gt_center">88 (0.7%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4</td>
<td class="gt_row gt_center">4 (&lt;0.1%)</td>
<td class="gt_row gt_center">60 (0.4%)</td>
<td class="gt_row gt_center">50 (0.4%)</td>
<td class="gt_row gt_center">45 (0.3%)</td></tr>
    <tr><td class="gt_row gt_left">status</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Case</td>
<td class="gt_row gt_center">573 (4.3%)</td>
<td class="gt_row gt_center">1,109 (7.8%)</td>
<td class="gt_row gt_center">2,069 (15%)</td>
<td class="gt_row gt_center">521 (4.0%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Control</td>
<td class="gt_row gt_center">12,853 (96%)</td>
<td class="gt_row gt_center">13,047 (92%)</td>
<td class="gt_row gt_center">12,045 (85%)</td>
<td class="gt_row gt_center">12,590 (96%)</td></tr>
    <tr><td class="gt_row gt_left">admin_change_pct_pt</td>
<td class="gt_row gt_center">0.13 (-0.91, 1.32)</td>
<td class="gt_row gt_center">0.00 (-1.04, 1.09)</td>
<td class="gt_row gt_center">0.42 (-0.73, 1.68)</td>
<td class="gt_row gt_center">0.00 (-1.44, 1.41)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="5"><sup class="gt_footnote_marks">1</sup> n (%); Median (IQR)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p>Admin intensity reducing the probability of case group One thought… Incorporate drop in quality scores. We’re worried about increasing admin intensity in ways that doesn’t benefit residents.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(status <span class="sc">~</span> admin_change_pct_pt, <span class="at">family=</span>binomial, final.df)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = status ~ admin_change_pct_pt, family = binomial, 
    data = final.df)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.7062   0.3925   0.4011   0.4082   1.2946  

Coefficients:
                     Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)          2.479021   0.016052 154.433  &lt; 2e-16 ***
admin_change_pct_pt -0.029631   0.004656  -6.363 1.97e-10 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 30004  on 54806  degrees of freedom
Residual deviance: 29965  on 54805  degrees of freedom
AIC: 29969

Number of Fisher Scoring iterations: 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">coef</span>(<span class="fu">summary</span>(model))[<span class="dv">5</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.173456e+67</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(status <span class="sc">~</span> admin_change_pct_pt <span class="sc">+</span> for_profit<span class="sc">:</span>admin_change_pct_pt <span class="sc">+</span>  provider_changed_ownership_in_last_12_months.y <span class="sc">+</span> continuing_care_retirement_community.y <span class="sc">+</span> average_number_of_residents_per_day.x <span class="sc">+</span> average_number_of_residents_per_day.y <span class="sc">+</span> year_factor, <span class="at">family=</span>binomial, final.df)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = status ~ admin_change_pct_pt + for_profit:admin_change_pct_pt + 
    provider_changed_ownership_in_last_12_months.y + continuing_care_retirement_community.y + 
    average_number_of_residents_per_day.x + average_number_of_residents_per_day.y + 
    year_factor, family = binomial, data = final.df)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-3.8825   0.2600   0.3328   0.4494   1.8753  

Coefficients:
                                                 Estimate Std. Error z value
(Intercept)                                      2.528838   0.054199  46.658
admin_change_pct_pt                             -0.012972   0.008909  -1.456
provider_changed_ownership_in_last_12_months.yY  0.168541   0.125267   1.345
continuing_care_retirement_community.yY         -0.030027   0.050993  -0.589
average_number_of_residents_per_day.x           -0.031776   0.001402 -22.671
average_number_of_residents_per_day.y            0.039636   0.001606  24.679
year_factor2019                                 -0.666839   0.053216 -12.531
year_factor2020                                 -0.876962   0.052798 -16.610
year_factor2021                                  0.086608   0.062224   1.392
admin_change_pct_pt:for_profitTRUE               0.001402   0.010709   0.131
                                                Pr(&gt;|z|)    
(Intercept)                                       &lt;2e-16 ***
admin_change_pct_pt                                0.145    
provider_changed_ownership_in_last_12_months.yY    0.178    
continuing_care_retirement_community.yY            0.556    
average_number_of_residents_per_day.x             &lt;2e-16 ***
average_number_of_residents_per_day.y             &lt;2e-16 ***
year_factor2019                                   &lt;2e-16 ***
year_factor2020                                   &lt;2e-16 ***
year_factor2021                                    0.164    
admin_change_pct_pt:for_profitTRUE                 0.896    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 30004  on 54805  degrees of freedom
Residual deviance: 27944  on 54796  degrees of freedom
  (1 observation deleted due to missingness)
AIC: 27964

Number of Fisher Scoring iterations: 6</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(status <span class="sc">~</span> admin_change_pct_pt <span class="sc">+</span> for_profit<span class="sc">:</span>admin_change_pct_pt <span class="sc">+</span>  provider_changed_ownership_in_last_12_months.y <span class="sc">+</span> continuing_care_retirement_community.y, <span class="at">family=</span>binomial, <span class="fu">filter</span>(final.df, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2018</span>,<span class="dv">2019</span>)))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = status ~ admin_change_pct_pt + for_profit:admin_change_pct_pt + 
    provider_changed_ownership_in_last_12_months.y + continuing_care_retirement_community.y, 
    family = binomial, data = filter(final.df, year %in% c(2018, 
        2019)))

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.7576   0.3415   0.3468   0.3534   0.6325  

Coefficients:
                                                 Estimate Std. Error z value
(Intercept)                                      2.784137   0.027587 100.922
admin_change_pct_pt                             -0.022518   0.015261  -1.476
provider_changed_ownership_in_last_12_months.yY  0.002345   0.161289   0.015
continuing_care_retirement_community.yY         -0.371217   0.072608  -5.113
admin_change_pct_pt:for_profitTRUE              -0.002978   0.018041  -0.165
                                                Pr(&gt;|z|)    
(Intercept)                                      &lt; 2e-16 ***
admin_change_pct_pt                                0.140    
provider_changed_ownership_in_last_12_months.yY    0.988    
continuing_care_retirement_community.yY         3.18e-07 ***
admin_change_pct_pt:for_profitTRUE                 0.869    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 12669  on 27580  degrees of freedom
Residual deviance: 12636  on 27576  degrees of freedom
  (1 observation deleted due to missingness)
AIC: 12646

Number of Fisher Scoring iterations: 5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(admin_change_pct_pt <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> staff_star_change <span class="sc">+</span> for_profit <span class="sc">+</span> provider_changed_ownership_in_last_12_months.y <span class="sc">+</span> continuing_care_retirement_community.y, <span class="at">family=</span>binomial, <span class="fu">filter</span>(final.df, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2018</span>,<span class="dv">2019</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: In lm.fit(x, y, offset = offset, singular.ok = singular.ok, ...) :
 extra argument 'family' will be disregarded</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = admin_change_pct_pt ~ 0 + staff_star_change + for_profit + 
    provider_changed_ownership_in_last_12_months.y + continuing_care_retirement_community.y, 
    data = filter(final.df, year %in% c(2018, 2019)), family = binomial)

Residuals:
    Min      1Q  Median      3Q     Max 
-39.268  -1.067  -0.017   1.113  49.842 

Coefficients:
                                                Estimate Std. Error t value
staff_star_change                                0.12170    0.02050   5.936
for_profitFALSE                                  0.08730    0.03697   2.361
for_profitTRUE                                   0.10658    0.02255   4.727
provider_changed_ownership_in_last_12_months.yY -0.39016    0.11673  -3.342
continuing_care_retirement_community.yY          0.03965    0.06233   0.636
                                                Pr(&gt;|t|)    
staff_star_change                               2.95e-09 ***
for_profitFALSE                                 0.018231 *  
for_profitTRUE                                  2.29e-06 ***
provider_changed_ownership_in_last_12_months.yY 0.000832 ***
continuing_care_retirement_community.yY         0.524649    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.052 on 27576 degrees of freedom
  (1 observation deleted due to missingness)
Multiple R-squared:  0.002483,  Adjusted R-squared:  0.002302 
F-statistic: 13.73 on 5 and 27576 DF,  p-value: 2.041e-13</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(admin_change_pct_pt <span class="sc">~</span> staff_star_change <span class="sc">+</span> qm_star_change <span class="sc">+</span> inspect_star_change <span class="sc">+</span> for_profit <span class="sc">+</span> provider_changed_ownership_in_last_12_months.y <span class="sc">+</span> continuing_care_retirement_community.y, <span class="at">family=</span>binomial, <span class="fu">filter</span>(final.df, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2018</span>,<span class="dv">2019</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: In lm.fit(x, y, offset = offset, singular.ok = singular.ok, ...) :
 extra argument 'family' will be disregarded</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = admin_change_pct_pt ~ staff_star_change + qm_star_change + 
    inspect_star_change + for_profit + provider_changed_ownership_in_last_12_months.y + 
    continuing_care_retirement_community.y, data = filter(final.df, 
    year %in% c(2018, 2019)), family = binomial)

Residuals:
    Min      1Q  Median      3Q     Max 
-39.238  -1.068  -0.018   1.115  49.771 

Coefficients:
                                                 Estimate Std. Error t value
(Intercept)                                      0.090293   0.036921   2.446
staff_star_change                                0.124024   0.020526   6.042
qm_star_change                                  -0.042811   0.015023  -2.850
inspect_star_change                             -0.033466   0.020631  -1.622
for_profitTRUE                                   0.008061   0.041960   0.192
provider_changed_ownership_in_last_12_months.yY -0.395090   0.116415  -3.394
continuing_care_retirement_community.yY          0.043264   0.062182   0.696
                                                Pr(&gt;|t|)    
(Intercept)                                      0.01447 *  
staff_star_change                               1.54e-09 ***
qm_star_change                                   0.00438 ** 
inspect_star_change                              0.10480    
for_profitTRUE                                   0.84765    
provider_changed_ownership_in_last_12_months.yY  0.00069 ***
continuing_care_retirement_community.yY          0.48658    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.044 on 27533 degrees of freedom
  (42 observations deleted due to missingness)
Multiple R-squared:  0.002125,  Adjusted R-squared:  0.001907 
F-statistic: 9.771 on 6 and 27533 DF,  p-value: 8.782e-11</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>linear.model <span class="ot">&lt;-</span> <span class="fu">lm</span>(staff_star_change <span class="sc">~</span> admin_change_pct_pt <span class="sc">+</span> admin_change_pct_pt <span class="sc">*</span> for_profit, final.df)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linear.model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = staff_star_change ~ admin_change_pct_pt + admin_change_pct_pt * 
    for_profit, data = final.df)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.2623 -0.8547  0.0644  0.1284  4.5806 

Coefficients:
                                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                        -0.055248   0.007485  -7.382 1.59e-13 ***
admin_change_pct_pt                 0.014244   0.002397   5.943 2.82e-09 ***
for_profitTRUE                     -0.024407   0.008909  -2.740  0.00615 ** 
admin_change_pct_pt:for_profitTRUE  0.003603   0.002844   1.267  0.20516    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.9492 on 54802 degrees of freedom
  (1 observation deleted due to missingness)
Multiple R-squared:  0.003244,  Adjusted R-squared:  0.00319 
F-statistic: 59.46 on 3 and 54802 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(status <span class="sc">~</span> admin_change_pct_pt <span class="sc">+</span> for_profit<span class="sc">:</span>admin_change_pct_pt <span class="sc">+</span>  provider_changed_ownership_in_last_12_months.y, <span class="at">family=</span>binomial, <span class="fu">filter</span>(final.df, year_factor<span class="sc">==</span><span class="dv">2018</span>))</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = status ~ admin_change_pct_pt + for_profit:admin_change_pct_pt + 
    provider_changed_ownership_in_last_12_months.y, family = binomial, 
    data = filter(final.df, year_factor == 2018))

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.9753   0.2831   0.2914   0.3005   0.7290  

Coefficients:
                                                Estimate Std. Error z value
(Intercept)                                      3.14301    0.04427  71.002
admin_change_pct_pt                             -0.06087    0.02517  -2.418
provider_changed_ownership_in_last_12_months.yY -0.35633    0.23487  -1.517
admin_change_pct_pt:for_profitTRUE               0.01346    0.02852   0.472
                                                Pr(&gt;|z|)    
(Intercept)                                       &lt;2e-16 ***
admin_change_pct_pt                               0.0156 *  
provider_changed_ownership_in_last_12_months.yY   0.1292    
admin_change_pct_pt:for_profitTRUE                0.6370    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 4735.7  on 13424  degrees of freedom
Residual deviance: 4717.8  on 13421  degrees of freedom
  (1 observation deleted due to missingness)
AIC: 4725.8

Number of Fisher Scoring iterations: 6</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(status_v2 <span class="sc">~</span> admin_change_pct_pt <span class="sc">+</span> for_profit<span class="sc">:</span>admin_change_pct_pt <span class="sc">+</span>  provider_changed_ownership_in_last_12_months.y <span class="sc">+</span> continuing_care_retirement_community.y, <span class="at">family=</span>binomial, final.df)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = status_v2 ~ admin_change_pct_pt + for_profit:admin_change_pct_pt + 
    provider_changed_ownership_in_last_12_months.y + continuing_care_retirement_community.y, 
    family = binomial, data = final.df)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-3.0224   0.2135   0.2177   0.2242   0.9332  

Coefficients:
                                                  Estimate Std. Error z value
(Intercept)                                      3.7407005  0.0303644 123.194
admin_change_pct_pt                             -0.0309601  0.0128736  -2.405
provider_changed_ownership_in_last_12_months.yY -0.2874099  0.1742197  -1.650
continuing_care_retirement_community.yY         -0.2710966  0.0817554  -3.316
admin_change_pct_pt:for_profitTRUE              -0.0002988  0.0153457  -0.019
                                                Pr(&gt;|z|)    
(Intercept)                                      &lt; 2e-16 ***
admin_change_pct_pt                             0.016175 *  
provider_changed_ownership_in_last_12_months.yY 0.099005 .  
continuing_care_retirement_community.yY         0.000913 ***
admin_change_pct_pt:for_profitTRUE              0.984466    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 12541  on 54805  degrees of freedom
Residual deviance: 12512  on 54801  degrees of freedom
  (1 observation deleted due to missingness)
AIC: 12522

Number of Fisher Scoring iterations: 6</code></pre>
</div>
</div>
<p>Model star change as a function of admin intensity change</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>linear.model <span class="ot">&lt;-</span> <span class="fu">lm</span>(staff_star_change <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> admin_change_pct_pt, <span class="fu">filter</span>(final.df, staff_star_change <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linear.model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = staff_star_change ~ 0 + admin_change_pct_pt, data = filter(final.df, 
    staff_star_change &gt; 0))

Residuals:
    Min      1Q  Median      3Q     Max 
-1.4416  0.9332  1.0010  1.1131  5.3688 

Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
admin_change_pct_pt 0.048763   0.003653   13.35   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.339 on 11770 degrees of freedom
Multiple R-squared:  0.01491,   Adjusted R-squared:  0.01483 
F-statistic: 178.2 on 1 and 11770 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>linear.model <span class="ot">&lt;-</span> <span class="fu">lm</span>(staff_star_change <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> admin_change_pct_pt <span class="sc">+</span> for_profit<span class="sc">:</span>admin_change_pct_pt, final.df)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linear.model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = staff_star_change ~ 0 + admin_change_pct_pt + for_profit:admin_change_pct_pt, 
    data = final.df)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.2410 -0.9355 -0.0048  0.0496  4.4641 

Coefficients: (1 not defined because of singularities)
                                     Estimate Std. Error t value Pr(&gt;|t|)    
admin_change_pct_pt                  0.016532   0.001532  10.788   &lt;2e-16 ***
admin_change_pct_pt:for_profitFALSE -0.003117   0.002849  -1.094    0.274    
admin_change_pct_pt:for_profitTRUE         NA         NA      NA       NA    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.952 on 54804 degrees of freedom
  (1 observation deleted due to missingness)
Multiple R-squared:  0.002686,  Adjusted R-squared:  0.00265 
F-statistic:  73.8 on 2 and 54804 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>What is the impact of an admin intensity spike, on average?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(final.df<span class="sc">$</span>admin_change_pct_pt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-48.6600  -1.0200   0.1400   0.1591   1.3900  92.8200 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(final.df<span class="sc">$</span>admin_change_pct_pt, .<span class="dv">95</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 95% 
4.46 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(final.df<span class="sc">$</span>admin_change_pct_pt, .<span class="dv">99</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 99% 
7.98 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>spike.facilities <span class="ot">&lt;-</span> <span class="fu">filter</span>(final.df, admin_change_pct_pt <span class="sc">&gt;</span> <span class="fu">quantile</span>(admin_change_pct_pt, .<span class="dv">99</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(federal_provider_number)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>final.df.spikes <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(final.df, spike.facilities, <span class="at">by=</span><span class="st">"federal_provider_number"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>linear.model <span class="ot">&lt;-</span> <span class="fu">lm</span>(qm_star_change <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> admin_change_pct_pt, final.df)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linear.model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = qm_star_change ~ 0 + admin_change_pct_pt, data = final.df)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.0603 -0.9946 -0.0003  0.9836  4.0404 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)   
admin_change_pct_pt -0.005104   0.001586  -3.217  0.00129 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.167 on 54753 degrees of freedom
  (53 observations deleted due to missingness)
Multiple R-squared:  0.000189,  Adjusted R-squared:  0.0001708 
F-statistic: 10.35 on 1 and 54753 DF,  p-value: 0.001294</code></pre>
</div>
</div>
<p>Model by sequence of staffing rating</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>final.df <span class="ot">&lt;-</span> final.df <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">top_5_percentile_admin_change =</span> <span class="fu">ifelse</span>(admin_change_pct_pt <span class="sc">&gt;=</span> <span class="fu">quantile</span>(admin_change_pct_pt, .<span class="dv">95</span>), <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">top_1_percentile_admin_change =</span> <span class="fu">ifelse</span>(admin_change_pct_pt <span class="sc">&gt;=</span> <span class="fu">quantile</span>(admin_change_pct_pt, .<span class="dv">99</span>), <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">staffing_rating_seq=</span><span class="fu">paste</span>(staffing_rating.x, staffing_rating.y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(final.df, </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>      staffing_rating_seq, year_factor) <span class="sc">%&gt;%</span> <span class="fu">tbl_summary</span>(<span class="at">by=</span>year_factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="iryfjhzxvv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#iryfjhzxvv) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#iryfjhzxvv) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#iryfjhzxvv) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#iryfjhzxvv) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#iryfjhzxvv) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#iryfjhzxvv) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#iryfjhzxvv) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#iryfjhzxvv) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#iryfjhzxvv) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#iryfjhzxvv) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#iryfjhzxvv) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#iryfjhzxvv) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#iryfjhzxvv) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iryfjhzxvv) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#iryfjhzxvv) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#iryfjhzxvv) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iryfjhzxvv) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#iryfjhzxvv) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iryfjhzxvv) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#iryfjhzxvv) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iryfjhzxvv) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iryfjhzxvv) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iryfjhzxvv) .gt_left {
  text-align: left;
}

:where(#iryfjhzxvv) .gt_center {
  text-align: center;
}

:where(#iryfjhzxvv) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#iryfjhzxvv) .gt_font_normal {
  font-weight: normal;
}

:where(#iryfjhzxvv) .gt_font_bold {
  font-weight: bold;
}

:where(#iryfjhzxvv) .gt_font_italic {
  font-style: italic;
}

:where(#iryfjhzxvv) .gt_super {
  font-size: 65%;
}

:where(#iryfjhzxvv) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#iryfjhzxvv) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#iryfjhzxvv) .gt_indent_1 {
  text-indent: 5px;
}

:where(#iryfjhzxvv) .gt_indent_2 {
  text-indent: 10px;
}

:where(#iryfjhzxvv) .gt_indent_3 {
  text-indent: 15px;
}

:where(#iryfjhzxvv) .gt_indent_4 {
  text-indent: 20px;
}

:where(#iryfjhzxvv) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2018</strong>, N = 13,426<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2019</strong>, N = 14,156<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2020</strong>, N = 14,114<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>2021</strong>, N = 13,111<sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">staffing_rating_seq</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1 1</td>
<td class="gt_row gt_center">916 (6.8%)</td>
<td class="gt_row gt_center">1,019 (7.2%)</td>
<td class="gt_row gt_center">743 (5.3%)</td>
<td class="gt_row gt_center">773 (5.9%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1 2</td>
<td class="gt_row gt_center">542 (4.0%)</td>
<td class="gt_row gt_center">651 (4.6%)</td>
<td class="gt_row gt_center">534 (3.8%)</td>
<td class="gt_row gt_center">336 (2.6%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1 3</td>
<td class="gt_row gt_center">78 (0.6%)</td>
<td class="gt_row gt_center">223 (1.6%)</td>
<td class="gt_row gt_center">200 (1.4%)</td>
<td class="gt_row gt_center">132 (1.0%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1 4</td>
<td class="gt_row gt_center">15 (0.1%)</td>
<td class="gt_row gt_center">128 (0.9%)</td>
<td class="gt_row gt_center">94 (0.7%)</td>
<td class="gt_row gt_center">86 (0.7%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1 5</td>
<td class="gt_row gt_center">4 (&lt;0.1%)</td>
<td class="gt_row gt_center">60 (0.4%)</td>
<td class="gt_row gt_center">50 (0.4%)</td>
<td class="gt_row gt_center">45 (0.3%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2 1</td>
<td class="gt_row gt_center">379 (2.8%)</td>
<td class="gt_row gt_center">422 (3.0%)</td>
<td class="gt_row gt_center">407 (2.9%)</td>
<td class="gt_row gt_center">674 (5.1%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2 2</td>
<td class="gt_row gt_center">1,064 (7.9%)</td>
<td class="gt_row gt_center">2,169 (15%)</td>
<td class="gt_row gt_center">1,632 (12%)</td>
<td class="gt_row gt_center">1,424 (11%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2 3</td>
<td class="gt_row gt_center">398 (3.0%)</td>
<td class="gt_row gt_center">785 (5.5%)</td>
<td class="gt_row gt_center">1,298 (9.2%)</td>
<td class="gt_row gt_center">388 (3.0%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2 4</td>
<td class="gt_row gt_center">67 (0.5%)</td>
<td class="gt_row gt_center">76 (0.5%)</td>
<td class="gt_row gt_center">298 (2.1%)</td>
<td class="gt_row gt_center">46 (0.4%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2 5</td>
<td class="gt_row gt_center">18 (0.1%)</td>
<td class="gt_row gt_center">6 (&lt;0.1%)</td>
<td class="gt_row gt_center">18 (0.1%)</td>
<td class="gt_row gt_center">2 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3 1</td>
<td class="gt_row gt_center">390 (2.9%)</td>
<td class="gt_row gt_center">108 (0.8%)</td>
<td class="gt_row gt_center">164 (1.2%)</td>
<td class="gt_row gt_center">328 (2.5%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3 2</td>
<td class="gt_row gt_center">1,379 (10%)</td>
<td class="gt_row gt_center">767 (5.4%)</td>
<td class="gt_row gt_center">524 (3.7%)</td>
<td class="gt_row gt_center">1,329 (10%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3 3</td>
<td class="gt_row gt_center">1,819 (14%)</td>
<td class="gt_row gt_center">2,318 (16%)</td>
<td class="gt_row gt_center">1,777 (13%)</td>
<td class="gt_row gt_center">1,458 (11%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3 4</td>
<td class="gt_row gt_center">423 (3.2%)</td>
<td class="gt_row gt_center">797 (5.6%)</td>
<td class="gt_row gt_center">1,407 (10.0%)</td>
<td class="gt_row gt_center">312 (2.4%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3 5</td>
<td class="gt_row gt_center">46 (0.3%)</td>
<td class="gt_row gt_center">42 (0.3%)</td>
<td class="gt_row gt_center">202 (1.4%)</td>
<td class="gt_row gt_center">30 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4 1</td>
<td class="gt_row gt_center">192 (1.4%)</td>
<td class="gt_row gt_center">67 (0.5%)</td>
<td class="gt_row gt_center">92 (0.7%)</td>
<td class="gt_row gt_center">152 (1.2%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4 2</td>
<td class="gt_row gt_center">292 (2.2%)</td>
<td class="gt_row gt_center">74 (0.5%)</td>
<td class="gt_row gt_center">66 (0.5%)</td>
<td class="gt_row gt_center">328 (2.5%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4 3</td>
<td class="gt_row gt_center">1,517 (11%)</td>
<td class="gt_row gt_center">706 (5.0%)</td>
<td class="gt_row gt_center">431 (3.1%)</td>
<td class="gt_row gt_center">1,304 (9.9%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4 4</td>
<td class="gt_row gt_center">1,953 (15%)</td>
<td class="gt_row gt_center">1,807 (13%)</td>
<td class="gt_row gt_center">1,614 (11%)</td>
<td class="gt_row gt_center">1,356 (10%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4 5</td>
<td class="gt_row gt_center">378 (2.8%)</td>
<td class="gt_row gt_center">413 (2.9%)</td>
<td class="gt_row gt_center">943 (6.7%)</td>
<td class="gt_row gt_center">200 (1.5%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5 1</td>
<td class="gt_row gt_center">57 (0.4%)</td>
<td class="gt_row gt_center">27 (0.2%)</td>
<td class="gt_row gt_center">42 (0.3%)</td>
<td class="gt_row gt_center">107 (0.8%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5 2</td>
<td class="gt_row gt_center">4 (&lt;0.1%)</td>
<td class="gt_row gt_center">3 (&lt;0.1%)</td>
<td class="gt_row gt_center">3 (&lt;0.1%)</td>
<td class="gt_row gt_center">36 (0.3%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5 3</td>
<td class="gt_row gt_center">47 (0.4%)</td>
<td class="gt_row gt_center">22 (0.2%)</td>
<td class="gt_row gt_center">25 (0.2%)</td>
<td class="gt_row gt_center">184 (1.4%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5 4</td>
<td class="gt_row gt_center">457 (3.4%)</td>
<td class="gt_row gt_center">338 (2.4%)</td>
<td class="gt_row gt_center">183 (1.3%)</td>
<td class="gt_row gt_center">796 (6.1%)</td></tr>
    <tr><td class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5 5</td>
<td class="gt_row gt_center">991 (7.4%)</td>
<td class="gt_row gt_center">1,128 (8.0%)</td>
<td class="gt_row gt_center">1,367 (9.7%)</td>
<td class="gt_row gt_center">1,285 (9.8%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="5"><sup class="gt_footnote_marks">1</sup> n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p>2-5 seq has very few observations…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(top_5_percentile_admin_change <span class="sc">~</span> staffing_rating_seq, <span class="at">family=</span>binomial, <span class="fu">filter</span>(final.df, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2018</span>, <span class="dv">2019</span>)))</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = top_5_percentile_admin_change ~ staffing_rating_seq, 
    family = binomial, data = filter(final.df, year %in% c(2018, 
        2019)))

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-0.7585  -0.3544  -0.2653  -0.2624   2.6600  

Coefficients:
                         Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)             -2.734257   0.095000 -28.782  &lt; 2e-16 ***
staffing_rating_seq1 2   0.153860   0.147755   1.041 0.297726    
staffing_rating_seq1 3   0.673369   0.205383   3.279 0.001043 ** 
staffing_rating_seq1 4   0.431672   0.306007   1.411 0.158344    
staffing_rating_seq1 5   0.465574   0.439241   1.060 0.289167    
staffing_rating_seq2 1   0.003341   0.175394   0.019 0.984800    
staffing_rating_seq2 2  -0.774107   0.141357  -5.476 4.34e-08 ***
staffing_rating_seq2 3  -0.002092   0.154318  -0.014 0.989183    
staffing_rating_seq2 4   1.082260   0.246651   4.388 1.14e-05 ***
staffing_rating_seq2 5   1.635645   0.480882   3.401 0.000671 ***
staffing_rating_seq3 1   0.151878   0.199390   0.762 0.446229    
staffing_rating_seq3 2  -0.685396   0.155602  -4.405 1.06e-05 ***
staffing_rating_seq3 3  -0.617399   0.128133  -4.818 1.45e-06 ***
staffing_rating_seq3 4   0.155098   0.146747   1.057 0.290553    
staffing_rating_seq3 5   1.151848   0.298982   3.853 0.000117 ***
staffing_rating_seq4 1   0.013785   0.275028   0.050 0.960026    
staffing_rating_seq4 2  -0.351087   0.272731  -1.287 0.197989    
staffing_rating_seq4 3  -0.408301   0.142702  -2.861 0.004220 ** 
staffing_rating_seq4 4  -0.595196   0.130356  -4.566 4.97e-06 ***
staffing_rating_seq4 5  -0.073806   0.180520  -0.409 0.682650    
staffing_rating_seq5 1   0.732777   0.350055   2.093 0.036320 *  
staffing_rating_seq5 2  -9.831806 122.741617  -0.080 0.936156    
staffing_rating_seq5 3   0.184812   0.473973   0.390 0.696594    
staffing_rating_seq5 4  -0.613695   0.217633  -2.820 0.004804 ** 
staffing_rating_seq5 5  -0.292123   0.140442  -2.080 0.037523 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 10372  on 27581  degrees of freedom
Residual deviance: 10153  on 27557  degrees of freedom
AIC: 10203

Number of Fisher Scoring iterations: 11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(top_5_percentile_admin_change <span class="sc">~</span> staffing_rating_seq, <span class="at">family=</span>binomial, final.df)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = top_5_percentile_admin_change ~ staffing_rating_seq, 
    family = binomial, data = final.df)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-0.7181  -0.3514  -0.2817  -0.2685   2.6177  

Coefficients:
                       Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)            -2.63472    0.06811 -38.681  &lt; 2e-16 ***
staffing_rating_seq1 2  0.08171    0.10897   0.750 0.453306    
staffing_rating_seq1 3  0.46698    0.14760   3.164 0.001557 ** 
staffing_rating_seq1 4  0.52711    0.19153   2.752 0.005921 ** 
staffing_rating_seq1 5  0.95575    0.22826   4.187 2.82e-05 ***
staffing_rating_seq2 1 -0.07901    0.11727  -0.674 0.500471    
staffing_rating_seq2 2 -0.65471    0.09607  -6.815 9.43e-12 ***
staffing_rating_seq2 3 -0.09928    0.10356  -0.959 0.337745    
staffing_rating_seq2 4  0.46681    0.16410   2.845 0.004445 ** 
staffing_rating_seq2 5  1.41094    0.36613   3.854 0.000116 ***
staffing_rating_seq3 1 -0.03727    0.14610  -0.255 0.798631    
staffing_rating_seq3 2 -0.75850    0.11221  -6.760 1.38e-11 ***
staffing_rating_seq3 3 -0.67016    0.09280  -7.222 5.14e-13 ***
staffing_rating_seq3 4 -0.11887    0.10336  -1.150 0.250123    
staffing_rating_seq3 5  0.63040    0.18575   3.394 0.000689 ***
staffing_rating_seq4 1  0.04160    0.18801   0.221 0.824892    
staffing_rating_seq4 2 -0.20408    0.17275  -1.181 0.237452    
staffing_rating_seq4 3 -0.42098    0.10258  -4.104 4.06e-05 ***
staffing_rating_seq4 4 -0.57953    0.09295  -6.235 4.53e-10 ***
staffing_rating_seq4 5 -0.17359    0.11949  -1.453 0.146308    
staffing_rating_seq5 1  0.64391    0.21268   3.028 0.002465 ** 
staffing_rating_seq5 2 -0.02787    0.60102  -0.046 0.963016    
staffing_rating_seq5 3 -0.09659    0.25941  -0.372 0.709643    
staffing_rating_seq5 4 -0.57249    0.14042  -4.077 4.56e-05 ***
staffing_rating_seq5 5 -0.27304    0.09439  -2.893 0.003819 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 21764  on 54806  degrees of freedom
Residual deviance: 21424  on 54782  degrees of freedom
AIC: 21474

Number of Fisher Scoring iterations: 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(top_1_percentile_admin_change <span class="sc">~</span> staffing_rating_seq <span class="sc">+</span> inspect_star_change, <span class="at">family=</span>binomial, final.df)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = top_1_percentile_admin_change ~ staffing_rating_seq + 
    inspect_star_change, family = binomial, data = final.df)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-0.5260  -0.1518  -0.1231  -0.1103   3.2625  

Coefficients:
                        Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)             -4.28490    0.14692 -29.164  &lt; 2e-16 ***
staffing_rating_seq1 2   0.10019    0.23307   0.430 0.667286    
staffing_rating_seq1 3  -0.20852    0.40748  -0.512 0.608841    
staffing_rating_seq1 4   0.61016    0.38697   1.577 0.114855    
staffing_rating_seq1 5   1.58219    0.35818   4.417 9.99e-06 ***
staffing_rating_seq2 1   0.22511    0.23100   0.975 0.329808    
staffing_rating_seq2 2  -0.74265    0.21477  -3.458 0.000544 ***
staffing_rating_seq2 3  -0.44999    0.24885  -1.808 0.070566 .  
staffing_rating_seq2 4   0.96346    0.28727   3.354 0.000797 ***
staffing_rating_seq2 5   2.23187    0.49726   4.488 7.18e-06 ***
staffing_rating_seq3 1   0.58870    0.25353   2.322 0.020231 *  
staffing_rating_seq3 2  -0.95970    0.26353  -3.642 0.000271 ***
staffing_rating_seq3 3  -0.95238    0.21761  -4.377 1.21e-05 ***
staffing_rating_seq3 4  -0.02540    0.21808  -0.116 0.907291    
staffing_rating_seq3 5   0.73897    0.36865   2.005 0.045012 *  
staffing_rating_seq4 1   0.73176    0.30832   2.373 0.017624 *  
staffing_rating_seq4 2  -0.26161    0.38458  -0.680 0.496352    
staffing_rating_seq4 3  -0.55746    0.23257  -2.397 0.016532 *  
staffing_rating_seq4 4  -0.69396    0.20850  -3.328 0.000874 ***
staffing_rating_seq4 5  -0.32864    0.27337  -1.202 0.229297    
staffing_rating_seq5 1   0.94877    0.38863   2.441 0.014635 *  
staffing_rating_seq5 2 -11.28621  214.57586  -0.053 0.958052    
staffing_rating_seq5 3   0.76682    0.38769   1.978 0.047935 *  
staffing_rating_seq5 4  -0.99472    0.36504  -2.725 0.006431 ** 
staffing_rating_seq5 5  -0.24167    0.20351  -1.188 0.235020    
inspect_star_change     -0.03626    0.05208  -0.696 0.486314    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 6147.1  on 54806  degrees of freedom
Residual deviance: 5963.6  on 54781  degrees of freedom
AIC: 6015.6

Number of Fisher Scoring iterations: 14</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>